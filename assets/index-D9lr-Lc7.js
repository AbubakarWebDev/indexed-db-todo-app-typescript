(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();const b="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let h=(t=21)=>{let o="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;)o+=b[r[t]&63];return o};window.indexedDB&&console.log("Indexed DB is supported");const I=1,B="main",u="todos";let d;const c=indexedDB.open(B,I);c.onerror=t=>console.error(`IndexedDB error: ${c.error}`,t);c.onsuccess=()=>{d=c.result};c.onupgradeneeded=function(){d=c.result,d.createObjectStore(u,{keyPath:"id"}).createIndex("name","name",{unique:!1})};const w=(t,o)=>{d=c.result;const r=d.transaction(t,"readwrite");return r.objectStore(u).add(o),new Promise((e,n)=>{r.onerror=()=>{n(r.error)},r.oncomplete=()=>{e("success")}})},s=document.querySelector(".main-modal"),m=document.querySelectorAll(".modal-close"),f=()=>{s&&(s.classList.remove("fadeIn"),s.classList.add("fadeOut"),setTimeout(()=>{s.style.display="none"},500))};for(let t=0;t<m.length;t++){const o=m[t];o&&(o.onclick=()=>f()),s&&(s.style.display="none"),window.onclick=function(r){r.target==s&&f()}}const p=document.getElementById("todo-name"),a=document.getElementById("todo-image");var y;(y=document.getElementById("submit-btn"))==null||y.addEventListener("click",async()=>{const t=p.value,o=a.files&&a.files[0];if(!t||!o){alert("Please enter valid data");return}try{await w(u,{id:h(),name:t,image:o}),alert("Record successfully added"),p.value="",a.value=""}catch(r){alert("Something went wrong. please check browser console for the error"),console.log(r)}});var g;(g=document.getElementById("update-btn"))==null||g.addEventListener("click",()=>{});var E;(E=document.getElementById("delete-btn"))==null||E.addEventListener("click",()=>{});
